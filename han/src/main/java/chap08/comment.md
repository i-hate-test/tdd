## Chapter 8

### Testable Code

1. 상수가 하드 코딩 되거나 의존 객체들이 직접 생성되는 경우 테스터블하기 어렵다고 한다. \
   막상 예제가 제시된 순서를 따르지 않고 TDD 를 적용하여 객체를 작성해보니 상수나 의존 객체를 세터 또는 파라미터로 주입할 수 있도록 설계하게 되더라. \
   Javascript 를 사용했어서 그런지 파라미터가 더 편하긴 했다.
2. 외부 라이브러리를 사용하는 경우도 마찬가지다. 결국 주입이 필요한 대상인데, 대역으로 대체되기 쉽도록 래퍼 객체가 필요할 뿐이다.

### Difficulty of Dependency Injection

1. 시간 또는 임의 값을 주입하는 경우가 어색했다. Times 라는 객체를 생성하는 것도 어색해서 그냥 파라미터로 주입할까도 고민했었다. 하지만 daily 한 역할을 수행하는 객체다보니, 핵심 메서드에 time
   이라는 인자가 밖에서 주입되는 것도 이상하다. \
   그래서 결국 책에서 제안한 모킹한 Times 를 주입할 수 있도록, 그리고 default 로 객체 내부에서 생성하는 방식에 납득했다.
2. 어려웠지만 무엇을 어떻게 주입하고 모킹할지를 고민하면서 설계에 더 신경쓰게 된다. 테스터블하지 않으면 설계가 잘못되었다는 주장이 생각난다.